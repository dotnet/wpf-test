<DockPanel xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:s="clr-namespace:System;assembly=System.Private.CoreLib" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:drt="clr-namespace:DRT;assembly=DrtMarkupSerializer"><DockPanel.Triggers><EventTrigger RoutedEvent="ButtonBase.Click" SourceName="elementTriggerSource"><BeginStoryboard><Storyboard><Storyboard.Children><DoubleAnimation To="100" Storyboard.TargetName="elementStoryboardTarget2" Storyboard.TargetProperty="Height" /></Storyboard.Children></Storyboard></BeginStoryboard><BeginStoryboard Name="ControlledStoryboard"><Storyboard><Storyboard.Children><DoubleAnimation To="400" Storyboard.TargetName="elementStoryboardTarget2" Storyboard.TargetProperty="Width" /></Storyboard.Children></Storyboard></BeginStoryboard></EventTrigger></DockPanel.Triggers><DockPanel.Resources><Style TargetType="Button" x:Key="ButtonStyleWithoutVisualTreeorTriggers"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="TextElement.Foreground"><Setter.Value><SolidColorBrush>#FF0000FF</SolidColorBrush></Setter.Value></Setter></Style><Storyboard x:Key="elementStoryboardTimeline2"><Storyboard.Children><DoubleAnimation To="100" Storyboard.TargetName="elementStoryboardTarget2" Storyboard.TargetProperty="Height" /></Storyboard.Children></Storyboard><Storyboard x:Key="elementStoryboardTimelineW2"><Storyboard.Children><DoubleAnimation To="400" Storyboard.TargetName="elementStoryboardTarget2" Storyboard.TargetProperty="Width" /></Storyboard.Children></Storyboard><SolidColorBrush x:Key="GreenBrush">#6400DB00</SolidColorBrush><Style TargetType="Button" x:Key="MyButton2"><Style.Resources><SolidColorBrush x:Key="GreenBrush2">#6400DB00</SolidColorBrush><Style TargetType="Rectangle" x:Key="{x:Type Rectangle}"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="Shape.Fill"><Setter.Value><DynamicResource ResourceKey="GreenBrush2" /></Setter.Value></Setter></Style></Style.Resources><Setter Property="FrameworkElement.Margin"><Setter.Value><Thickness>5,5,5,5</Thickness></Setter.Value></Setter><Setter Property="FrameworkElement.Cursor"><Setter.Value><Cursor>Hand</Cursor></Setter.Value></Setter><Setter Property="Control.Template"><Setter.Value><ControlTemplate TargetType="Button"><Canvas Height="20" Width="100"><Rectangle Height="40" Width="90" RadiusY="10" Name="MainRect" Style="{DynamicResource {x:Type Rectangle}}" Stroke="#FFFF0000" RadiusX="10" StrokeThickness="5" /><ContentPresenter Margin="15,13,15,15" ContentTemplate="{TemplateBinding ContentControl.ContentTemplate}" Content="{TemplateBinding ContentControl.Content}" ContentStringFormat="{TemplateBinding ContentControl.ContentStringFormat}" /></Canvas></ControlTemplate></Setter.Value></Setter></Style><Style TargetType="Button" x:Key="MyButtonStyle"><Style.Resources><ResourceDictionary /></Style.Resources><Style.Triggers><Trigger Property="ButtonBase.IsPressed"><Setter Property="TextElement.Foreground"><Setter.Value><DynamicResource ResourceKey="GreenBrush" /></Setter.Value></Setter><Setter Property="TextElement.FontSize"><Setter.Value><s:Double>16</s:Double></Setter.Value></Setter><Setter Property="DockPanel.Dock"><Setter.Value><x:Static Member="Dock.Top" /></Setter.Value></Setter><Setter Property="drt:Label.IntNoWrapperAttachedDP"><Setter.Value><s:Int32>1</s:Int32></Setter.Value></Setter><Setter Property="Border.BorderBrush"><Setter.Value><LinearGradientBrush EndPoint="0,1" StartPoint="0,0"><LinearGradientBrush.GradientStops><GradientStop Offset="0" Color="#FFFF0000" /><GradientStop Offset="0.5" Color="#FF00FF00" /><GradientStop Offset="1" Color="#FF0000FF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Setter.Value></Setter><Trigger.Value><s:Boolean>True</s:Boolean></Trigger.Value></Trigger><Trigger Property="drt:Label.IntNoWrapperAttachedDP"><Setter Property="TextElement.Foreground"><Setter.Value><DynamicResource ResourceKey="GreenBrush" /></Setter.Value></Setter><Trigger.Value><s:Int32>1</s:Int32></Trigger.Value></Trigger><MultiTrigger><MultiTrigger.Conditions><Condition Property="ButtonBase.IsPressed"><Condition.Value><s:Boolean>True</s:Boolean></Condition.Value></Condition><Condition Property="UIElement.IsFocused"><Condition.Value><s:Boolean>True</s:Boolean></Condition.Value></Condition><Condition Property="DockPanel.Dock" Value="{x:Static Dock.Top}" /></MultiTrigger.Conditions><Setter Property="drt:Label.IntNoWrapperAttachedDP"><Setter.Value><s:Int32>1</s:Int32></Setter.Value></Setter><Setter Property="TextElement.Foreground"><Setter.Value><DynamicResource ResourceKey="GreenBrush" /></Setter.Value></Setter><Setter Property="Border.BorderBrush"><Setter.Value><LinearGradientBrush EndPoint="0,1" StartPoint="0,0"><LinearGradientBrush.GradientStops><GradientStop Offset="0" Color="#FFFF0000" /><GradientStop Offset="0.5" Color="#FF00FF00" /><GradientStop Offset="1" Color="#FF0000FF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Setter.Value></Setter></MultiTrigger></Style.Triggers><Setter Property="FrameworkElement.Margin"><Setter.Value><Thickness>5,5,5,5</Thickness></Setter.Value></Setter><Setter Property="FrameworkElement.Cursor"><Setter.Value><Cursor>Hand</Cursor></Setter.Value></Setter><Setter Property="Control.Template"><Setter.Value><ControlTemplate TargetType="Button"><Canvas Height="20" Width="100" drt:Label.IntNoWrapperAttachedDP="1"><Rectangle RadiusY="10" Name="MainRect" Stroke="{DynamicResource GreenBrush}" RadiusX="10" StrokeThickness="2"><Rectangle.Fill><LinearGradientBrush EndPoint="0,1" StartPoint="0,0"><LinearGradientBrush.GradientStops><GradientStop Offset="0" Color="#FFFF0000" /><GradientStop Offset="0.5" Color="#FF00FF00" /><GradientStop Offset="1" Color="#FF0000FF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Rectangle.Fill></Rectangle><ContentPresenter Margin="15,13,15,15" Content="{TemplateBinding ContentControl.Content}" DockPanel.Dock="{TemplateBinding DockPanel.Dock}" /></Canvas><ControlTemplate.Triggers><MultiTrigger><MultiTrigger.Conditions><Condition Property="ButtonBase.IsPressed"><Condition.Value><s:Boolean>True</s:Boolean></Condition.Value></Condition><Condition Property="UIElement.IsFocused"><Condition.Value><s:Boolean>True</s:Boolean></Condition.Value></Condition><Condition Property="DockPanel.Dock" Value="{x:Static Dock.Top}" /></MultiTrigger.Conditions><Setter Property="TextElement.FontSize" TargetName="MainRect"><Setter.Value><s:Double>16</s:Double></Setter.Value></Setter></MultiTrigger><MultiTrigger><MultiTrigger.Conditions><Condition SourceName="MainRect" Property="drt:Label.IntNoWrapperAttachedDP"><Condition.Value><s:Int32>1</s:Int32></Condition.Value></Condition></MultiTrigger.Conditions><Setter Property="TextElement.FontSize" TargetName="MainRect"><Setter.Value><s:Double>16</s:Double></Setter.Value></Setter></MultiTrigger></ControlTemplate.Triggers></ControlTemplate></Setter.Value></Setter></Style><Style TargetType="Button" x:Key="MyButtonStyleWithSetters"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="Control.VerticalContentAlignment"><Setter.Value><x:Static Member="VerticalAlignment.Top" /></Setter.Value></Setter><Setter Property="Panel.Background"><Setter.Value><LinearGradientBrush><LinearGradientBrush.GradientStops><GradientStop Offset="0.3" Color="#FFF0F8FF" /><GradientStop Offset="0.3" Color="#FFFAEBD7" /><GradientStop Offset="0.3" Color="#FF00FFFF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Setter.Value></Setter></Style><Style TargetType="drt:MyButton" x:Key="MySecondButtonStyle"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="drt:MyButton.MyContent"><Setter.Value><x:Array Type="s:Object"><TextBlock Text="Click Me Again and Again and Again!" /><TextBlock Text="Click Me Again and Again and Again and Again!" /></x:Array></Setter.Value></Setter></Style><Style TargetType="TextBox" x:Key="MyTextStyle"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="Control.Template"><Setter.Value><ControlTemplate TargetType="TextBox"><drt:MyButton><drt:MyButton.MyContent><x:Array Type="s:Object"><TextBlock Text="Click Me Again and Again and Again!" /><TextBlock Text="Click Me Again and Again and Again and Again!" /></x:Array></drt:MyButton.MyContent></drt:MyButton></ControlTemplate></Setter.Value></Setter></Style><Style TargetType="drt:MyButton" x:Key="MyThirdButtonStyle"><Style.Resources><ResourceDictionary /></Style.Resources><Style.Triggers><Trigger Property="ButtonBase.IsPressed"><Setter Property="drt:MyButton.MyContent"><Setter.Value><x:Array Type="s:Object"><TextBlock Text="Click Me Again and Again and Again!" /><TextBlock Text="Click Me Again and Again and Again and Again!" /></x:Array></Setter.Value></Setter><Trigger.Value><s:Boolean>True</s:Boolean></Trigger.Value></Trigger></Style.Triggers></Style><Style TargetType="IFrameworkInputElement" x:Key="NoTargetTypeStyle"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="Control.Template"><Setter.Value><ControlTemplate><Canvas Height="20" Width="100" /></ControlTemplate></Setter.Value></Setter></Style><Style TargetType="TextBlock" x:Key="{x:Type TextBlock}"><Style.Resources><ResourceDictionary /></Style.Resources><Setter Property="TextElement.FontSize"><Setter.Value><s:Double>8</s:Double></Setter.Value></Setter><Setter Property="drt:Label.IntNoWrapperAttachedDP"><Setter.Value><s:Int32>1</s:Int32></Setter.Value></Setter><Setter Property="TextElement.Foreground"><Setter.Value><LinearGradientBrush EndPoint="0,1" StartPoint="0,0"><LinearGradientBrush.GradientStops><GradientStop Offset="0" Color="#FFFF0000" /><GradientStop Offset="0.5" Color="#FF00FF00" /><GradientStop Offset="1" Color="#FF0000FF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Setter.Value></Setter></Style></DockPanel.Resources><StackPanel><Button><Button.Style><Style TargetType="Button"><Style.Resources><ResourceDictionary /></Style.Resources><Style.Triggers><Trigger Property="ButtonBase.IsPressed"><Setter Property="TextElement.Foreground"><Setter.Value><DynamicResource ResourceKey="GreenBrush" /></Setter.Value></Setter><Setter Property="TextElement.FontSize"><Setter.Value><s:Double>16</s:Double></Setter.Value></Setter><Setter Property="DockPanel.Dock"><Setter.Value><x:Static Member="Dock.Top" /></Setter.Value></Setter><Trigger.Value><s:Boolean>True</s:Boolean></Trigger.Value></Trigger><MultiTrigger><MultiTrigger.Conditions><Condition Property="ButtonBase.IsPressed"><Condition.Value><s:Boolean>True</s:Boolean></Condition.Value></Condition><Condition Property="UIElement.IsFocused"><Condition.Value><s:Boolean>True</s:Boolean></Condition.Value></Condition><Condition Property="DockPanel.Dock" Value="{x:Static Dock.Top}" /></MultiTrigger.Conditions><Setter Property="TextElement.Foreground"><Setter.Value><DynamicResource ResourceKey="GreenBrush" /></Setter.Value></Setter><Setter Property="TextElement.FontSize"><Setter.Value><s:Double>16</s:Double></Setter.Value></Setter><Setter Property="Border.BorderBrush"><Setter.Value><LinearGradientBrush EndPoint="0,1" StartPoint="0,0"><LinearGradientBrush.GradientStops><GradientStop Offset="0" Color="#FFFF0000" /><GradientStop Offset="0.5" Color="#FF00FF00" /><GradientStop Offset="1" Color="#FF0000FF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Setter.Value></Setter></MultiTrigger></Style.Triggers><Setter Property="FrameworkElement.Margin"><Setter.Value><Thickness>5,5,5,5</Thickness></Setter.Value></Setter><Setter Property="FrameworkElement.Cursor"><Setter.Value><Cursor>Hand</Cursor></Setter.Value></Setter><Setter Property="Control.Template"><Setter.Value><ControlTemplate TargetType="Button"><Canvas Height="20" Width="100"><Rectangle RadiusY="10" Name="MainRect" Stroke="{DynamicResource GreenBrush}" RadiusX="10" StrokeThickness="2"><Rectangle.Fill><LinearGradientBrush EndPoint="0,1" StartPoint="0,0"><LinearGradientBrush.GradientStops><GradientStop Offset="0" Color="#FFFF0000" /><GradientStop Offset="0.5" Color="#FF00FF00" /><GradientStop Offset="1" Color="#FF0000FF" /></LinearGradientBrush.GradientStops></LinearGradientBrush></Rectangle.Fill></Rectangle><ContentPresenter Margin="15,13,15,15" Content="{TemplateBinding ContentControl.Content}" DockPanel.Dock="{TemplateBinding DockPanel.Dock}" /></Canvas></ControlTemplate></Setter.Value></Setter></Style></Button.Style></Button><Button Name="elementTriggerSource">Click to start element storyboard timeline</Button><Rectangle Height="10" Width="200" Fill="#FF0000FF" Name="elementStoryboardTarget2" /></StackPanel><TextBlock Text="This TextBlock control must have its implicit style serialized inline when in value mode" /><Rectangle><Rectangle.Style><Style TargetType="Rectangle"><Style.Resources><Storyboard Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)" x:Key="TestRectLine"><Storyboard.Children><ColorAnimation To="#FFFFFF00" BeginTime="00:00:00" Duration="00:00:01" /><ColorAnimation To="#FF008000" BeginTime="00:00:01" Duration="00:00:01" /></Storyboard.Children></Storyboard></Style.Resources><Style.Triggers><EventTrigger RoutedEvent="Mouse.MouseDown"><BeginStoryboard><Storyboard Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"><Storyboard.Children><ColorAnimation To="#FFFFFF00" BeginTime="00:00:00" Duration="00:00:01" /><ColorAnimation To="#FF008000" BeginTime="00:00:01" Duration="00:00:01" /></Storyboard.Children></Storyboard></BeginStoryboard></EventTrigger></Style.Triggers><Setter Property="FrameworkElement.Width"><Setter.Value><s:Double>80</s:Double></Setter.Value></Setter><Setter Property="FrameworkElement.Height"><Setter.Value><s:Double>40</s:Double></Setter.Value></Setter><Setter Property="Shape.Fill"><Setter.Value><SolidColorBrush>#FFFF0000</SolidColorBrush></Setter.Value></Setter></Style></Rectangle.Style></Rectangle><Button Style="{DynamicResource MyButton2}">Hello World</Button><Button Style="{DynamicResource MyButtonStyleWithSetters}" /></DockPanel>